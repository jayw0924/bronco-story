<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1965 Ford Bronco — Configure Yours</title>
    <link rel="preload" as="image" href="images/hero-desert.webp" type="image/webp">

    <style>
      /* ── Reset ──────────────────────────────────────────────────────────── */
      *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

      html { scroll-behavior: smooth; }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        background: #0c0c0c;
        color: #f0f0f0;
        overflow-x: hidden;
      }

      /* ── Nav ─────────────────────────────────────────────────────────────
         Transparent on hero, frosted dark once user scrolls past it.       */
      .site-nav {
        position: fixed;
        top: 0; left: 0; right: 0;
        z-index: 200;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 48px;
        height: 64px;
        transition: background 0.3s, backdrop-filter 0.3s, border-color 0.3s;
        border-bottom: 1px solid transparent;
      }
      .site-nav.scrolled {
        background: rgba(12, 12, 12, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom-color: rgba(255,255,255,0.08);
      }

      .nav-brand {
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #fff;
        text-decoration: none;
      }

      .nav-links {
        display: flex;
        align-items: center;
        gap: 36px;
        list-style: none;
      }
      .nav-links a {
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.65);
        text-decoration: none;
        transition: color 0.15s;
      }
      .nav-links a:hover { color: #fff; }

      .nav-cta {
        padding: 0 20px;
        height: 36px;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.8px;
        text-transform: uppercase;
        background: #c9a96e;
        color: #0c0c0c;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        text-decoration: none;
        display: flex;
        align-items: center;
        transition: background 0.15s;
      }
      .nav-cta:hover { background: #d9bc87; }

      /* ── Hero ────────────────────────────────────────────────────────────
         Full-screen, desert sunset render as background.                   */
      .hero {
        position: relative;
        height: 100vh;
        min-height: 600px;
        display: flex;
        align-items: center;
        overflow: hidden;
      }

      .hero-bg {
        position: absolute;
        inset: 0;
        background-image: url('images/hero-desert.webp');
        background-size: cover;
        background-position: center;
        /* Slightly zoom in for a cinematic crop */
        transform: scale(1.04);
      }

      /* Left-to-right gradient: dark on left for text, clear on right for sky */
      .hero-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          105deg,
          rgba(8, 8, 8, 0.82) 0%,
          rgba(8, 8, 8, 0.45) 50%,
          rgba(8, 8, 8, 0.12) 100%
        );
      }

      .hero-content {
        position: relative;
        z-index: 10;
        padding: 0 80px;
        max-width: 640px;
      }

      .hero-eyebrow {
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: #c9a96e;
        margin-bottom: 20px;
      }

      .hero-headline {
        font-size: clamp(52px, 6vw, 88px);
        font-weight: 800;
        line-height: 1;
        letter-spacing: -2px;
        color: #fff;
        margin-bottom: 24px;
      }

      .hero-sub {
        font-size: 16px;
        font-weight: 400;
        line-height: 1.6;
        color: rgba(255,255,255,0.6);
        margin-bottom: 40px;
        max-width: 400px;
      }

      .hero-cta {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 0 32px;
        height: 52px;
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 1px;
        text-transform: uppercase;
        background: #c9a96e;
        color: #0c0c0c;
        border-radius: 8px;
        text-decoration: none;
        transition: background 0.15s, transform 0.15s;
      }
      .hero-cta:hover { background: #d9bc87; transform: translateY(-1px); }
      .hero-cta svg { transition: transform 0.15s; }
      .hero-cta:hover svg { transform: translateX(3px); }

      /* Scroll hint at bottom of hero */
      .scroll-hint {
        position: absolute;
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        color: rgba(255,255,255,0.35);
        font-size: 10px;
        font-weight: 600;
        letter-spacing: 2px;
        text-transform: uppercase;
        animation: scrollBounce 2.2s ease-in-out infinite;
      }
      @keyframes scrollBounce {
        0%, 100% { transform: translateX(-50%) translateY(0); opacity: 0.35; }
        50% { transform: translateX(-50%) translateY(6px); opacity: 0.6; }
      }

      /* ── Philosophy ─────────────────────────────────────────────────────*/
      .philosophy {
        background: #0c0c0c;
        padding: 120px 80px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 80px;
        border-bottom: 1px solid rgba(255,255,255,0.06);
        position: relative;
      }
      .philosophy::before {
        content: '';
        position: absolute;
        top: 80px;
        bottom: 80px;
        left: 50%;
        width: 1px;
        background: rgba(255,255,255,0.06);
      }
      .philosophy-tag {
        display: inline-block;
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.3);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 4px;
        padding: 4px 10px;
        margin-bottom: 32px;
      }
      .philosophy-heading {
        font-size: clamp(28px, 3vw, 42px);
        font-weight: 800;
        letter-spacing: -1.5px;
        line-height: 1.05;
        color: #fff;
        margin-bottom: 20px;
      }
      .philosophy-body {
        font-size: 14px;
        line-height: 1.85;
        color: rgba(255,255,255,0.38);
        max-width: 400px;
      }

      /* ── Configure intro strip ───────────────────────────────────────────*/
      .configure-intro-strip {
        background: #0c0c0c;
        padding: 80px 80px 48px;
        display: flex;
        align-items: baseline;
        justify-content: space-between;
        border-top: 1px solid rgba(255,255,255,0.06);
      }
      .configure-intro-strip h2 {
        font-size: clamp(32px, 3.5vw, 52px);
        font-weight: 800;
        letter-spacing: -2px;
        color: #fff;
        margin: 0;
        line-height: 1;
      }
      .configure-intro-strip span {
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.25);
      }

      /* ── Highlights ──────────────────────────────────────────────────────
         3 feature cards on a dark surface, ~50vh.                          */
      .highlights {
        background: #111;
        padding: 100px 80px;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2px;
        border-top: 1px solid rgba(255,255,255,0.06);
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }

      .highlight-card {
        padding: 48px 48px 52px;
        border-right: 1px solid rgba(255,255,255,0.06);
      }
      .highlight-card:last-child { border-right: none; }

      .highlight-icon {
        width: 40px;
        height: 40px;
        margin-bottom: 28px;
        color: #c9a96e;
      }

      .highlight-stat {
        font-size: 52px;
        font-weight: 800;
        letter-spacing: -2px;
        color: #fff;
        line-height: 1;
        margin-bottom: 12px;
      }

      .highlight-title {
        font-size: 13px;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.5);
        margin-bottom: 14px;
      }

      .highlight-desc {
        font-size: 14px;
        line-height: 1.7;
        color: rgba(255,255,255,0.4);
        max-width: 260px;
      }

      /* ── Filmstrip ───────────────────────────────────────────────────────
         Full-width horizontal scroll of renders.                           */
      .filmstrip-section {
        background: #0c0c0c;
        padding: 100px 0 80px;
        overflow: hidden;
      }

      .filmstrip-header {
        padding: 0 80px;
        margin-bottom: 48px;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
      }

      .filmstrip-headline {
        font-size: clamp(28px, 3.5vw, 48px);
        font-weight: 800;
        letter-spacing: -1.5px;
        color: #fff;
        line-height: 1.1;
      }

      .filmstrip-sub {
        font-size: 13px;
        color: rgba(255,255,255,0.35);
        font-weight: 500;
        text-align: right;
        line-height: 1.5;
      }
      .hint-mobile { display: none; }

      .filmstrip {
        display: flex;
        gap: 16px;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scrollbar-width: none;
        padding: 0 80px 32px;
        cursor: grab;
      }
      .filmstrip::-webkit-scrollbar { display: none; }
      .filmstrip:active { cursor: grabbing; }

      .filmstrip-item {
        flex: 0 0 auto;
        scroll-snap-align: start;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
      }

      .filmstrip-item img {
        height: 520px;
        width: auto;
        display: block;
        object-fit: cover;
        transition: transform 0.5s ease;
        pointer-events: none;
      }
      .filmstrip-item:hover img { transform: scale(1.02); }

      /* Drag-to-scroll JS helper */
      .filmstrip.is-dragging { scroll-snap-type: none; }

      /* Fade edges */
      .filmstrip-section .fade-right {
        position: relative;
      }
      .filmstrip-section .fade-right::after {
        content: '';
        position: absolute;
        top: 0; right: 0;
        width: 120px;
        height: 100%;
        background: linear-gradient(to right, transparent, #0c0c0c);
        pointer-events: none;
      }

      /* ── Craft callout ──────────────────────────────────────────────────*/
      .craft-callout {
        position: relative;
        height: 85vh;
        min-height: 560px;
        overflow: hidden;
      }

      .craft-bg {
        position: absolute;
        inset: 0;
        background-image: url('images/bronco-detail.webp');
        background-size: cover;
        background-position: center;
        transform: scale(1.03);
        transition: transform 8s ease;
      }
      .craft-callout:hover .craft-bg { transform: scale(1.0); }

      .craft-overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
          to top,
          rgba(0,0,0,0.65) 0%,
          rgba(0,0,0,0.1) 50%,
          rgba(0,0,0,0.2) 100%
        );
      }

      .craft-content {
        position: absolute;
        bottom: 64px;
        left: 80px;
        right: 80px;
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
      }

      .craft-quote {
        font-size: clamp(28px, 3.5vw, 52px);
        font-weight: 800;
        letter-spacing: -1.5px;
        line-height: 1.05;
        color: #fff;
        max-width: 640px;
        margin: 0;
      }

      .craft-credit {
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.35);
        text-align: right;
        line-height: 1.6;
        flex-shrink: 0;
        margin-left: 40px;
      }

      /* ── Assembly story section ─────────────────────────────────────────*/
      .assembly-section {
        background: #0c0c0c;
        padding: 120px 80px;
        border-top: 1px solid rgba(255,255,255,0.06);
      }

      .assembly-intro {
        max-width: 640px;
        margin-bottom: 64px;
      }

      .assembly-eyebrow {
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: #c9a96e;
        margin-bottom: 20px;
      }

      .assembly-headline {
        font-size: clamp(32px, 3.5vw, 52px);
        font-weight: 800;
        letter-spacing: -1.5px;
        line-height: 1.05;
        color: #fff;
        margin-bottom: 20px;
      }

      .assembly-body {
        font-size: 15px;
        line-height: 1.75;
        color: rgba(255,255,255,0.45);
        max-width: 520px;
      }

      .assembly-grid {
        display: grid;
        grid-template-columns: 1.1fr 0.9fr;
        gap: 16px;
        align-items: start;
      }

      .assembly-panel {
        position: relative;
        border-radius: 12px;
        overflow: hidden;
      }

      .assembly-panel img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .assembly-panel-shop,
      .assembly-panel-ui { height: 520px; }

      .assembly-panel-ui img { object-position: top center; }

      .assembly-caption {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 32px 24px 20px;
        background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, transparent 100%);
        display: flex;
        align-items: flex-end;
        justify-content: space-between;
      }

      .assembly-caption-label {
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.5);
      }

      .assembly-caption-tag {
        font-size: 10px;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: #c9a96e;
        border: 1px solid rgba(201,169,110,0.4);
        border-radius: 4px;
        padding: 3px 8px;
      }

      /* ── Configurator section ────────────────────────────────────────────
         Critical: position:relative + height:100vh + overflow:hidden
         contains the absolutely-positioned Vue app.                        */
      .configurator-section {
        position: relative;
        height: 100vh;
        min-height: 600px;
        overflow: hidden;
      }

      /* ── Configurator app (critical CSS — DO NOT REMOVE) ─────────────── */
      .container {
        position: absolute;
        inset: 0;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        background: #0c0c0c;
      }

      .viewport-panel {
        flex: 1;
        min-height: 0;
        width: 100%;
      }

      .controls-panel {
        flex: 0 0 auto;
        width: 100%;
        display: flex;
        flex-direction: column;
        background: #111;
        border-top: 1px solid rgba(255,255,255,0.08);
        overflow: hidden;
      }

      #embed3DSource {
        width: 100%;
        height: 100%;
      }

      /* ── Configurator UI ────────────────────────────────────────────────*/
      .loading-panel {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: flex-end;
        justify-content: center;
        padding-bottom: 40px;
        background: #111;
      }
      .loading-panel p {
        color: rgba(255,255,255,0.4);
        font-size: 12px;
        letter-spacing: 2px;
        text-transform: uppercase;
      }

      .category-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 20px 8px;
        flex-shrink: 0;
        border-bottom: 1px solid rgba(255,255,255,0.06);
      }

      .category-name {
        font-size: 11px;
        font-weight: 700;
        letter-spacing: 2.5px;
        text-transform: uppercase;
        color: #f0f0f0;
        margin: 0;
      }

      .category-progress {
        display: flex;
        align-items: center;
        gap: 4px;
      }
      .progress-dot {
        width: 5px;
        height: 5px;
        border-radius: 50%;
        background: rgba(255,255,255,0.15);
        transition: background 0.2s;
        cursor: pointer;
      }
      .progress-dot.done  { background: #22c55e; }
      .progress-dot.active { background: #c9a96e; }

      .card-row {
        display: flex;
        align-items: flex-start;
        overflow-x: auto;
        overflow-y: hidden;
        scrollbar-width: thin;
        scrollbar-color: rgba(255,255,255,0.12) transparent;
        gap: 10px;
        padding: 12px 20px 10px;
        flex-shrink: 0;
      }
      .card-row::-webkit-scrollbar { height: 3px; }
      .card-row::-webkit-scrollbar-track { background: transparent; }
      .card-row::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.12); border-radius: 2px; }

      .option-card {
        flex: 0 0 auto;
        width: 120px;
        border: 1.5px solid rgba(255,255,255,0.1);
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        transition: border-color 0.15s, box-shadow 0.15s;
        background: rgba(255,255,255,0.04);
        user-select: none;
      }
      .option-card:hover { border-color: rgba(255,255,255,0.28); box-shadow: 0 2px 8px rgba(0,0,0,0.4); }
      .option-card.selected { border-color: #c9a96e; box-shadow: 0 0 0 1px #c9a96e; }

      .card-thumb {
        width: 100%;
        height: 80px;
        background: rgba(255,255,255,0.06);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.15s;
        overflow: hidden;
      }
      .option-card.selected .card-thumb { background: rgba(201,169,110,0.12); }

      .card-thumb-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.2s ease;
      }
      .option-card:hover .card-thumb-img { transform: scale(1.05); }

      .card-name {
        padding: 6px 8px 7px;
        font-size: 10px;
        font-weight: 600;
        color: rgba(255,255,255,0.4);
        text-align: center;
        line-height: 1.3;
        text-transform: capitalize;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .option-card.selected .card-name { color: #f0f0f0; font-weight: 700; }

      .material-row {
        display: flex;
        flex-direction: column;
        gap: 6px;
        padding: 0 20px 12px;
        flex-shrink: 0;
      }
      .slot-group { display: flex; align-items: center; gap: 10px; }
      .slot-label {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        color: rgba(255,255,255,0.3);
        white-space: nowrap;
        flex-shrink: 0;
        min-width: 60px;
      }
      .material-swatches {
        display: flex;
        gap: 6px;
        overflow-x: auto;
        scrollbar-width: none;
        padding-bottom: 2px;
      }
      .material-swatches::-webkit-scrollbar { display: none; }

      .swatch-square {
        flex: 0 0 auto;
        width: 34px;
        height: 34px;
        border-radius: 6px;
        overflow: hidden;
        border: 2px solid transparent;
        padding: 0;
        cursor: pointer;
        background: rgba(255,255,255,0.08);
        transition: transform 0.12s, border-color 0.12s, box-shadow 0.12s;
        position: relative;
      }
      .swatch-square:hover { transform: scale(1.12); border-color: rgba(255,255,255,0.35); }
      .swatch-square.active {
        border-color: #c9a96e;
        box-shadow: 0 0 0 1px #c9a96e;
        transform: scale(1.08);
      }
      .swatch-square img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .swatch-fallback {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 8px;
        font-weight: 700;
        color: rgba(255,255,255,0.3);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-align: center;
        padding: 2px;
        line-height: 1.2;
      }

      .footer-bar {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 0 20px 14px;
        flex-shrink: 0;
      }
      .nav-group { display: flex; gap: 6px; flex-shrink: 0; }
      .btn-nav {
        padding: 0 18px;
        height: 36px;
        font-size: 12px;
        font-weight: 600;
        border: 1.5px solid rgba(255,255,255,0.12);
        background: transparent;
        border-radius: 8px;
        cursor: pointer;
        color: rgba(255,255,255,0.6);
        transition: all 0.12s;
        white-space: nowrap;
      }
      .btn-nav:hover:not(:disabled) { border-color: rgba(255,255,255,0.4); color: #f0f0f0; }
      .btn-nav.primary { background: #c9a96e; color: #0c0c0c; border-color: #c9a96e; font-weight: 700; }
      .btn-nav.primary:hover:not(:disabled) { background: #d9bc87; border-color: #d9bc87; }
      .btn-nav:disabled { opacity: 0.25; cursor: not-allowed; }

      .step-counter {
        font-size: 11px;
        color: rgba(255,255,255,0.25);
        font-weight: 600;
        white-space: nowrap;
        flex-shrink: 0;
      }
      .footer-spacer { flex: 1; }

      .env-group { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
      .env-label {
        font-size: 10px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.8px;
        color: rgba(255,255,255,0.3);
        white-space: nowrap;
      }
      .env-select {
        padding: 0 28px 0 10px;
        height: 32px;
        border: 1.5px solid rgba(255,255,255,0.12);
        background: rgba(255,255,255,0.06);
        border-radius: 7px;
        font-size: 11px;
        color: #f0f0f0;
        cursor: pointer;
        appearance: none;
        background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23999' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 6px center;
        background-size: 14px;
        max-width: 160px;
      }
      .env-select:hover { border-color: rgba(255,255,255,0.35); }
      .env-select option { background: #1a1a1a; color: #f0f0f0; }

      .export-group { display: flex; gap: 6px; flex-shrink: 0; }
      .btn-export {
        padding: 0 14px;
        height: 32px;
        font-size: 11px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border: 1.5px solid rgba(255,255,255,0.1);
        background: transparent;
        color: rgba(255,255,255,0.4);
        border-radius: 7px;
        cursor: pointer;
        white-space: nowrap;
        transition: all 0.12s;
      }
      .btn-export:hover { border-color: #c9a96e; color: #c9a96e; }

      /* ── Footer ─────────────────────────────────────────────────────────*/
      .site-footer {
        background: #080808;
        border-top: 1px solid rgba(255,255,255,0.06);
        padding: 40px 80px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .footer-brand {
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: rgba(255,255,255,0.3);
      }
      .footer-credit {
        font-size: 11px;
        color: rgba(255,255,255,0.2);
        letter-spacing: 0.5px;
      }
      /* ── Responsive ─────────────────────────────────────────────────────*/
      @media (max-width: 768px) {

        /* Nav */
        .site-nav { padding: 0 20px; }
        .nav-links { display: none; }

        /* Hero */
        .hero-content { padding: 0 24px; max-width: none; }
        .hero-sub { max-width: none; }

        /* Philosophy */
        .philosophy {
          grid-template-columns: 1fr;
          gap: 48px;
          padding: 64px 24px;
        }
        .philosophy::before { display: none; }
        .philosophy-body { max-width: none; }

        /* Highlights */
        .highlights {
          grid-template-columns: 1fr;
          padding: 48px 0;
          gap: 0;
        }
        .highlight-card {
          border-right: none;
          border-bottom: 1px solid rgba(255,255,255,0.06);
          padding: 36px 24px;
        }
        .highlight-card:last-child { border-bottom: none; }
        .highlight-stat { font-size: 40px; }
        .highlight-desc { max-width: none; }

        /* Filmstrip */
        .hint-desktop { display: none; }
        .hint-mobile  { display: inline; }
        .filmstrip-section { padding: 64px 0 40px; }
        .filmstrip-header {
          padding: 0 24px;
          margin-bottom: 28px;
          flex-direction: column;
          align-items: flex-start;
          gap: 6px;
        }
        .filmstrip-sub { text-align: left; }
        .filmstrip { padding: 0 24px 20px; }
        .filmstrip-item img { height: 220px; }

        /* Craft callout */
        .craft-callout { height: 65vh; min-height: 340px; }
        .craft-content {
          left: 24px;
          right: 24px;
          bottom: 28px;
          flex-direction: column;
          align-items: flex-start;
          gap: 16px;
        }
        .craft-credit { text-align: left; margin-left: 0; }

        /* Assembly */
        .assembly-section { padding: 64px 24px; }
        .assembly-intro { margin-bottom: 36px; }
        .assembly-grid { grid-template-columns: 1fr; }
        .assembly-panel-shop,
        .assembly-panel-ui { height: 260px; }

        /* Configure intro */
        .configure-intro-strip {
          padding: 48px 24px 28px;
          flex-direction: column;
          align-items: flex-start;
          gap: 10px;
        }

        /* Configurator controls */
        .category-header { padding: 12px 16px 8px; }
        .card-row { padding: 10px 16px 8px; }
        .material-row { padding: 0 16px 10px; }
        .footer-bar {
          flex-wrap: wrap;
          padding: 6px 16px 14px;
          gap: 8px;
          row-gap: 8px;
        }
        .footer-spacer { display: none; }
        .env-group { order: 3; }
        .export-group { order: 4; }
        .env-select { max-width: 130px; }

        /* Footer */
        .site-footer {
          padding: 32px 24px;
          flex-direction: column;
          gap: 8px;
          text-align: center;
        }
      }

      @media (max-width: 480px) {
        .hero-headline { letter-spacing: -1px; }
        .assembly-headline { letter-spacing: -1px; }
        .configure-intro-strip h2 { letter-spacing: -1.5px; }
        .nav-cta { display: none; }
        .btn-export { padding: 0 10px; font-size: 10px; }
        .btn-nav { padding: 0 14px; }
      }
    </style>

    <!-- Vue 3 -->
    <script type="importmap">
      { "imports": { "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js" } }
    </script>

    <script type="module">
      import {
        integrateMetabox, SetComponent, SetComponentMaterial,
        SetEnvironment, GetScreenshot, GetPdf,
        ShowEmbeddedMenu, ShowOverlayInterface, saveImage,
      } from 'https://cdn.jsdelivr.net/npm/@3dsource/metabox-modular-configurator-api@latest/+esm';
      import { createApp, markRaw } from 'vue';

      // ── Nav scroll behavior ──────────────────────────────────────────────
      window.addEventListener('scroll', () => {
        document.querySelector('.site-nav')
          ?.classList.toggle('scrolled', window.scrollY > 20);
      }, { passive: true });

      // ── Filmstrip drag-to-scroll ─────────────────────────────────────────
      document.addEventListener('DOMContentLoaded', () => {
        const strip = document.querySelector('.filmstrip');
        if (!strip) return;
        let isDown = false, startX, scrollLeft;
        strip.addEventListener('mousedown', e => {
          isDown = true;
          strip.classList.add('is-dragging');
          startX = e.pageX - strip.offsetLeft;
          scrollLeft = strip.scrollLeft;
        });
        strip.addEventListener('mouseleave', () => { isDown = false; strip.classList.remove('is-dragging'); });
        strip.addEventListener('mouseup', () => { isDown = false; strip.classList.remove('is-dragging'); });
        strip.addEventListener('mousemove', e => {
          if (!isDown) return;
          e.preventDefault();
          const x = e.pageX - strip.offsetLeft;
          strip.scrollLeft = scrollLeft - (x - startX) * 1.4;
        });
      });

      // ── Configurator Vue app ─────────────────────────────────────────────
      createApp({
        data() {
          return {
            state: null, currentStep: 0,
            configurationTree: [], componentsByType: {},
            componentsById: {}, selectedByType: {},
            componentTypes: [], environments: [],
          };
        },

        computed: {
          currentType()              { return this.componentTypes[this.currentStep] || null; },
          currentOptions()           { return this.currentType ? (this.componentsByType[this.currentType.id] || []) : []; },
          currentSelectedId()        { return this.currentType ? (this.selectedByType[this.currentType.id] || null) : null; },
          currentSelectedComponent() { return this.currentSelectedId ? this.componentsById[this.currentSelectedId] : null; },
          currentSlots() {
            const comp = this.currentSelectedComponent;
            return (comp?.slots || comp?.product?.slots || []).filter(s => s.enabledMaterials?.length > 0);
          },
        },

        methods: {
          onConfiguratorData(data) {
            const { configurationTree, configurator, componentsByComponentType } = data;
            this.state = data;
            this.configurationTree = (configurationTree || []).filter(Boolean);
            this.componentTypes = (configurator?.componentTypes || []).filter(t => t?.id);
            const rawEnvs = configurator?.environments || [];
            this.environments = rawEnvs.map(e => e?.environment?.id ? e.environment : e).filter(e => e?.id);
            const byId = {}, byType = {};
            (configurator?.components || []).forEach(c => {
              if (!c?.id) return;
              byId[c.id] = c;
              const tid = c.componentType?.id;
              if (tid) { byType[tid] = byType[tid] || []; byType[tid].push(c); }
            });
            this.componentsById = byId;
            this.componentsByType = byType;
            this.selectedByType = componentsByComponentType || {};

            document.getElementById('perm-count').textContent = '737k+';
          },
          setComponent(id, typeId, isRoot = false)        { this.$api.sendCommandToMetabox(new SetComponent(id, typeId, isRoot)); },
          setComponentMaterial(cid, slotId, matId)        { this.$api.sendCommandToMetabox(new SetComponentMaterial(cid, slotId, matId)); },
          setEnvironment(envId)                           { this.$api.sendCommandToMetabox(new SetEnvironment(envId)); },
          getRender(size)                                 { this.$api.sendCommandToMetabox(new GetScreenshot('image/png', size)); },
          getPDF()                                        { this.$api.sendCommandToMetabox(new GetPdf()); },
        },

        mounted() {
          integrateMetabox(
            'd7edd0dd-1124-4db3-9a32-c2855f899df5',
            'embed3DSource',
            (api) => {
              this.$api = markRaw(api);
              this.$api.addEventListener('configuratorDataUpdated', d => this.onConfiguratorData(d));
              this.$api.addEventListener('screenshotReady', d => { if (d) saveImage(d, 'Render.png'); });
              this.$api.sendCommandToMetabox(new ShowEmbeddedMenu(false));
              this.$api.sendCommandToMetabox(new ShowOverlayInterface(false));
            },
          );
        },
      }).mount('#app');
    </script>
  </head>

  <body>

    <!-- ── Nav ──────────────────────────────────────────────────────────── -->
    <nav class="site-nav">
      <a href="#top" class="nav-brand">Bronco</a>
      <ul class="nav-links">
        <li><a href="#highlights">Features</a></li>
        <li><a href="#gallery">Gallery</a></li>
        <li><a href="#configure">Configure</a></li>
      </ul>
      <a href="#configure" class="nav-cta">Configure Yours →</a>
    </nav>

    <!-- ── Hero ─────────────────────────────────────────────────────────── -->
    <section class="hero" id="top">
      <div class="hero-bg"></div>
      <div class="hero-overlay"></div>
      <div class="hero-content">
        <p class="hero-eyebrow">1965 Ford Bronco</p>
        <h1 class="hero-headline">Built for those<br>who dare.</h1>
        <p class="hero-sub">
          Photorealistic real-time 3D configuration.<br>
          Every component. Every material. Yours.
        </p>
        <a href="#configure" class="hero-cta">
          Configure Yours
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>
      <div class="scroll-hint" aria-hidden="true">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 5v14M5 12l7 7 7-7"/>
        </svg>
        Scroll
      </div>
    </section>

    <!-- ── Philosophy ───────────────────────────────────────────────────── -->
    <section class="philosophy">
      <div>
        <span class="philosophy-tag">The Subject</span>
        <h2 class="philosophy-heading">737,000+ builds.<br>No two alike.</h2>
        <p class="philosophy-body">The Ford Bronco is one of the most customizable vehicles ever made — a product designed from the ground up to be exactly what its owner needs it to be. Visualizing that full range of configurations, at the quality buyers expect, simply wasn't possible before.</p>
      </div>
      <div>
        <span class="philosophy-tag">The Platform</span>
        <h2 class="philosophy-heading">Built to bring<br>it to life.</h2>
        <p class="philosophy-body">Metabox is an Unreal Engine web publishing platform featuring a real-time configurator, asset management system, and virtual photography studio. We brought every component, every finish, and every possible build into it — and made the whole thing explorable in real time.</p>
      </div>
    </section>

    <!-- ── Highlights ───────────────────────────────────────────────────── -->
    <section class="highlights" id="highlights">
      <div class="highlight-card">
        <div class="highlight-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
          </svg>
        </div>
        <p class="highlight-stat">5</p>
        <p class="highlight-title">Unreal Engine</p>
        <p class="highlight-desc">Photorealistic real-time 3D streamed to any browser. No app, no plugin, no compromise on visual quality.</p>
      </div>
      <div class="highlight-card">
        <div class="highlight-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/>
          </svg>
        </div>
        <p class="highlight-stat" id="perm-count">—</p>
        <p class="highlight-title">Unique Configurations</p>
        <p class="highlight-desc">Unique builds possible with this configurator alone. Every permutation of body, finish, and components — visualized on demand.</p>
      </div>
      <div class="highlight-card">
        <div class="highlight-icon">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"/>
          </svg>
        </div>
        <p class="highlight-stat">AI</p>
        <p class="highlight-title">Studio Pipeline</p>
        <p class="highlight-desc">3D product renders built in Metabox Studio. Environments generated by AI Studio — cinematic imagery at scale.</p>
      </div>
    </section>

    <!-- ── Gallery / Filmstrip ───────────────────────────────────────────── -->
    <section class="filmstrip-section" id="gallery">
      <div class="filmstrip-header">
        <h2 class="filmstrip-headline">Every configuration.<br>Perfectly rendered.</h2>
        <p class="filmstrip-sub"><span class="hint-desktop">Drag</span><span class="hint-mobile">Swipe</span> to explore →</p>
      </div>
      <div class="fade-right">
        <div class="filmstrip">
          <div class="filmstrip-item">
            <img
              src="images/hero-desert.webp"
              alt="Bronco in desert at sunset"
              loading="lazy" decoding="async"
            />
          </div>
          <div class="filmstrip-item">
            <img
              src="images/gallery-forest.webp"
              alt="Bronco in Pacific Northwest forest"
              loading="lazy" decoding="async"
            />
          </div>
          <div class="filmstrip-item">
            <img
              src="images/gallery-snow.webp"
              alt="Bronco in winter mountain setting"
              loading="lazy" decoding="async"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- ── Craft callout ────────────────────────────────────────────────── -->
    <section class="craft-callout">
      <div class="craft-bg"></div>
      <div class="craft-overlay"></div>
      <div class="craft-content">
        <p class="craft-quote">Every surface.<br>Every finish.<br>Rendered in real time.</p>
        <span class="craft-credit">Metabox Studio<br>Virtual Photography</span>
      </div>
    </section>

    <!-- ── Assembly story ───────────────────────────────────────────────── -->
    <section class="assembly-section">
      <div class="assembly-intro">
        <p class="assembly-eyebrow">Modular by design</p>
        <h2 class="assembly-headline">Built the same way.<br>Part by part.</h2>
        <p class="assembly-body">
          The Bronco was engineered to come apart and go back together — distinct components, deliberate choices, a build that's entirely your own. Metabox mirrors that same logic in real time. Every top, bumper, wheel, and finish you select maps directly to how the actual vehicle is assembled. Same process. Different medium.
        </p>
      </div>

      <div class="assembly-grid">
        <div class="assembly-panel assembly-panel-shop">
          <img
            src="images/assembly/assembly-shop.webp"
            alt="Ford Bronco being assembled in a shop"
            loading="lazy" decoding="async"
          />
          <div class="assembly-caption">
            <span class="assembly-caption-label">Real world</span>
            <span class="assembly-caption-tag">In the shop</span>
          </div>
        </div>
        <div class="assembly-panel assembly-panel-ui">
          <img
            src="images/assembly/metabox-bronco-selections.png"
            alt="Metabox configurator showing Bronco component selections"
          />
          <div class="assembly-caption">
            <span class="assembly-caption-label">Digital twin</span>
            <span class="assembly-caption-tag">In Metabox</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ── Configure intro ──────────────────────────────────────────────── -->
    <div class="configure-intro-strip">
      <h2>Now it's your turn.</h2>
      <span>Real-time 3D · Unreal Engine 5</span>
    </div>

    <!-- ── Configurator ──────────────────────────────────────────────────── -->
    <section class="configurator-section" id="configure">
      <div class="container" id="app">

        <div class="viewport-panel">
          <div id="embed3DSource"></div>
        </div>

        <div class="controls-panel" v-if="!state">
          <div class="loading-panel" role="status" aria-live="polite">
            <p>Loading configurator…</p>
          </div>
        </div>

        <div class="controls-panel" v-else>
          <div class="category-header">
            <h3 class="category-name">{{ currentType?.name }}</h3>
            <div class="category-progress" role="tablist" :aria-label="'Step ' + (currentStep + 1) + ' of ' + componentTypes.length">
              <span
                v-for="(type, idx) in componentTypes" :key="type.id"
                role="tab" :aria-selected="idx === currentStep"
                :title="type.name"
                :class="['progress-dot', { active: idx === currentStep, done: idx !== currentStep && selectedByType[type.id] }]"
                @click="currentStep = idx"
              ></span>
            </div>
          </div>

          <div class="card-row">
            <div
              v-for="component in currentOptions" :key="component.id"
              :class="['option-card', { selected: currentSelectedId === component.id }]"
              role="button" :aria-pressed="currentSelectedId === component.id"
              :tabindex="0"
              @click="setComponent(component.id, currentType.id, currentType.isRoot)"
              @keydown.enter="setComponent(component.id, currentType.id, currentType.isRoot)"
              @keydown.space.prevent="setComponent(component.id, currentType.id, currentType.isRoot)"
            >
              <div class="card-thumb">
                <img
                  v-if="component.product?.thumbnailList?.[1]?.urlPath"
                  :src="component.product.thumbnailList[1].urlPath"
                  :alt="component.name"
                  class="card-thumb-img"
                />
                <svg v-else width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.18)" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/>
                </svg>
              </div>
              <div class="card-name" :title="component.name">{{ component.name }}</div>
            </div>
          </div>

          <div class="material-row" v-if="currentSlots.length > 0">
            <div v-for="slot in currentSlots" :key="slot.id" class="slot-group">
              <span class="slot-label">{{ slot.label }}</span>
              <div class="material-swatches">
                <button
                  type="button"
                  v-for="material in slot.enabledMaterials" :key="material.id"
                  :class="['swatch-square', { active: state.componentMaterialsIds?.[currentSelectedId]?.[slot.id] === material.id }]"
                  :title="material.title"
                  :aria-label="material.title"
                  @click="setComponentMaterial(currentSelectedId, slot.id, material.id)"
                >
                  <img
                    v-if="material.thumbnailList?.[0]?.urlPath"
                    :src="material.thumbnailList[0].urlPath"
                    :alt="material.title"
                  />
                  <span v-else class="swatch-fallback">{{ material.title }}</span>
                </button>
              </div>
            </div>
          </div>

          <div class="footer-bar">
            <div class="nav-group">
              <button type="button" class="btn-nav" :disabled="currentStep === 0" @click="currentStep--">← Back</button>
              <button type="button" class="btn-nav primary" :disabled="currentStep === componentTypes.length - 1" @click="currentStep++">Next →</button>
            </div>
            <div class="footer-spacer"></div>
            <div class="env-group" v-if="environments.length > 0">
              <span class="env-label">Scene</span>
              <select class="env-select" :value="state.environmentId" @change="setEnvironment($event.target.value)">
                <option v-for="env in environments" :key="env.id" :value="env.id">{{ env.title }}</option>
              </select>
            </div>
            <div class="export-group">
              <button type="button" class="btn-export" @click="getRender()">Render</button>
              <button type="button" class="btn-export" @click="getPDF()">PDF</button>
            </div>
          </div>
        </div>

      </div>
    </section>

    <!-- ── Footer ────────────────────────────────────────────────────────── -->
    <footer class="site-footer">
      <span class="footer-brand">1965 Ford Bronco</span>
      <span class="footer-credit">Powered by Metabox · 3D Source</span>
    </footer>

  </body>
</html>
